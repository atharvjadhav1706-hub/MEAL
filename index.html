<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Pro FitHub: Elite</title>
<style>
    :root {
        --bg: #050505;
        --card: #141414;
        --primary: #ccff00; /* Neon Lime */
        --accent: #3b82f6; /* Electric Blue */
        --text: #ffffff;
        --sub: #888888;
        --font: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", Roboto, sans-serif;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; user-select: none; }

    body {
        font-family: var(--font);
        background-color: var(--bg);
        color: var(--text);
        margin: 0;
        padding: 0;
        padding-bottom: 120px;
        overflow-x: hidden;
    }

    /* --- ANIMATIONS --- */
    @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes checkPop { 0%{transform:scale(1);} 50%{transform:scale(1.3);} 100%{transform:scale(1);} }

    /* --- GLOBAL UI --- */
    .page { display: none; padding: 20px; padding-top: 80px; } 
    .page.active { display: block; animation: slideUp 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); }

    /* --- GLASS HEADER (Cleaned) --- */
    .glass-header {
        position: fixed; top: 0; left: 0; right: 0; height: 70px;
        background: rgba(20, 20, 20, 0.85); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
        border-bottom: 1px solid rgba(255,255,255,0.05); z-index: 100;
        display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
    }
    .gh-title { font-size: 1.2rem; font-weight: 800; letter-spacing: -0.5px; }
    .gh-btn { background: #222; width: 36px; height: 36px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; cursor: pointer; }
    .gh-spacer { width: 36px; } /* Balances the layout since fire is gone */

    /* --- HERO SECTION --- */
    .hero-big {
        background: linear-gradient(145deg, #1a1a1a, #0f0f0f);
        border-radius: 32px; padding: 30px; margin-top: 10px; margin-bottom: 20px;
        border: 1px solid rgba(255,255,255,0.05); position: relative; overflow: hidden;
        box-shadow: 0 20px 50px -10px rgba(0,0,0,0.5);
    }
    
    .hero-flex { display: flex; justify-content: space-between; align-items: center; z-index: 2; position: relative; }
    .cal-number { font-size: 4.5rem; font-weight: 900; line-height: 0.9; color: var(--primary); letter-spacing: -3px; }
    .cal-label { font-size: 0.8rem; font-weight: 700; color: #666; margin-top: 10px; letter-spacing: 1px; }
    .target-box { background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px; display: inline-block; margin-top: 10px; font-size: 0.8rem; font-weight: 700; }

    /* --- RING CHART (12PM CLOCKWISE) --- */
    .ring-wrapper { width: 110px; height: 110px; position: relative; }
    .c-chart { display: block; max-width: 100%; max-height: 100%; }
    /* r=40 means circumference ~251 */
    .c-bg { fill: none; stroke: #222; stroke-width: 8; }
    .c-fill { 
        fill: none; stroke-width: 8; stroke-linecap: round; stroke: var(--primary);
        stroke-dasharray: 251; /* Full circle */
        stroke-dashoffset: 251; /* Starts empty */
        transition: stroke-dashoffset 1s cubic-bezier(0.4,0,0.2,1);
        filter: drop-shadow(0 0 10px rgba(204,255,0,0.4));
        /* Path defined in SVG is already 12pm clockwise, no rotation needed */
    }
    .ring-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); font-size: 2rem; }

    /* --- STATS ROW --- */
    .stats-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
    .stat-box { 
        background: #111; border-radius: 24px; padding: 20px; height: 140px; 
        display: flex; flex-direction: column; justify-content: space-between; 
        border: 1px solid #1f1f1f; transition: 0.2s;
    }
    .stat-box:active { transform: scale(0.98); background: #161616; }
    .sb-icon { font-size: 1.8rem; }
    .sb-val { font-size: 1.6rem; font-weight: 800; color: #fff; }
    .sb-label { font-size: 0.7rem; font-weight: 800; color: #555; text-transform: uppercase; }
    
    .w-bar-bg { width: 100%; height: 6px; background: #222; border-radius: 10px; overflow: hidden; }
    .w-bar-fill { height: 100%; width: 0%; background: var(--accent); border-radius: 10px; transition: width 0.5s; box-shadow: 0 0 10px var(--accent); }

    /* --- MENU GRID --- */
    .menu-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
    .menu-btn { 
        background: #111; height: 100px; border-radius: 24px; border: 1px solid #222;
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        gap: 8px; font-weight: 700; color: #888; font-size: 0.8rem;
    }
    .menu-btn span { font-size: 1.8rem; }

    /* --- MEAL CARDS --- */
    .meal-section-title { font-size: 2rem; font-weight: 900; margin-bottom: 20px; color: #fff; letter-spacing: -1px; }
    
    .meal-card {
        background: #121212; border-radius: 26px; padding: 20px; margin-bottom: 16px;
        position: relative; display: flex; align-items: center; justify-content: space-between;
        border: 1px solid #1f1f1f; box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        transition: 0.2s; overflow: hidden;
    }
    .meal-card::before { content:''; position:absolute; left:0; top:0; bottom:0; width:6px; background:var(--primary); opacity:0; transition:0.3s; }
    .meal-card:active { transform: scale(0.98); }
    
    .meal-card.checked { background: #0a0a0a; border-color: #111; }
    .meal-card.checked::before { opacity: 1; }
    .meal-card.checked .mc-title { text-decoration: line-through; opacity: 0.4; }
    .meal-card.checked .mc-desc { opacity: 0.2; }
    .meal-card.checked .check-box { background: var(--primary); border-color: var(--primary); color: #000; box-shadow: 0 0 15px var(--primary); animation: checkPop 0.3s; }

    .mc-left { flex: 1; padding-right: 15px; }
    .mc-time { 
        font-size: 0.65rem; font-weight: 800; text-transform: uppercase; 
        background: rgba(255,255,255,0.1); color: #fff; padding: 4px 8px; 
        border-radius: 6px; display: inline-block; margin-bottom: 8px;
    }
    .mc-title { font-size: 1.1rem; font-weight: 700; color: #fff; margin-bottom: 4px; transition: 0.2s; }
    .mc-desc { font-size: 0.85rem; color: #777; font-weight: 500; line-height: 1.4; transition: 0.2s; }
    
    .mc-right { text-align: right; display: flex; flex-direction: column; align-items: flex-end; gap: 8px; }
    .mc-cal { font-weight: 800; font-size: 0.95rem; color: var(--primary); }
    
    .check-box { 
        width: 32px; height: 32px; border-radius: 10px; border: 2px solid #333; 
        display: flex; align-items: center; justify-content: center; 
        color: transparent; font-size: 1.2rem; transition: 0.2s;
    }

    /* --- BUTTONS & INPUTS --- */
    .floating-btn {
        width: 100%; padding: 20px; background: #222; border-radius: 20px; 
        color: #fff; font-weight: 800; font-size: 1rem; border: none; margin-top: 20px;
    }
    input { width: 100%; padding: 20px; background: #000; border: 1px solid #333; border-radius: 18px; color: #fff; font-size: 1rem; font-weight: 600; margin-bottom: 15px; }

    /* --- CANVAS --- */
    #confetti { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
</style>
</head>
<body>

<canvas id="confetti"></canvas>

<div class="glass-header">
    <div class="gh-btn" onclick="if(document.getElementById('p-home').classList.contains('active')) nav('p-set'); else nav('p-home');">‚Üê</div>
    <div class="gh-title" id="pageTitle">DASHBOARD</div>
    <div class="gh-spacer"></div>
</div>

<div id="p-home" class="page active">
    
    <div class="hero-big" onclick="nav('p-meal')">
        <div class="hero-flex">
            <div>
                <div class="cal-number" id="dispCal">0</div>
                <div class="cal-label">CALORIES CONSUMED</div>
                <div class="target-box">TARGET: <span id="dispTarget">2450</span></div>
            </div>
            <div class="ring-wrapper">
                <svg viewBox="0 0 100 100" class="c-chart">
                    <path class="c-bg" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80" />
                    <path class="c-fill" id="progCirc" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80" />
                </svg>
                <div class="ring-icon" id="dayEmoji">‚öîÔ∏è</div>
            </div>
        </div>
    </div>

    <div class="stats-row">
        <div class="stat-box" onclick="nav('p-water')">
            <div>
                <div class="sb-icon">ü•§</div>
                <div class="sb-label">Hydration</div>
            </div>
            <div>
                <div class="sb-val" id="dispWater">0.0L</div>
                <div class="w-bar-bg"><div class="w-bar-fill" id="barWater"></div></div>
            </div>
        </div>
        <div class="stat-box" style="border-color: rgba(255,165,0,0.2);">
            <div>
                <div class="sb-icon">üî•</div>
                <div class="sb-label">Streak</div>
            </div>
            <div class="sb-val" id="dispStreak" style="color:orange">0</div>
        </div>
    </div>

    <div class="menu-grid">
        <div class="menu-btn" onclick="nav('p-shop')"><span>üõí</span> Shopping</div>
        <div class="menu-btn" onclick="nav('p-hist')"><span>üìÖ</span> History</div>
        <div class="menu-btn" onclick="nav('p-calc')"><span>üçú</span> Custom</div>
        <div class="menu-btn" onclick="nav('p-set')"><span>‚öô</span> Settings</div>
    </div>
</div>

<div id="p-meal" class="page">
    <h1 class="meal-section-title">Today's Fuel</h1>
    <div id="mealList"></div>
    
    <h3 style="color:#666; margin-top:40px; text-transform:uppercase; letter-spacing:1px; font-size:0.8rem;">Extra Logs</h3>
    <div id="custList"></div>
    <button class="floating-btn" onclick="nav('p-calc')">+ ADD CUSTOM ENTRY</button>
</div>

<div id="p-water" class="page">
    <div style="text-align:center; padding-top:40px;">
        <div style="font-size:6rem; font-weight:900; color:var(--accent); line-height:1; text-shadow:0 0 40px rgba(59,130,246,0.4);" id="waterLg">0.0</div>
        <div style="font-weight:800; color:#555; letter-spacing:2px; margin-top:10px;">LITERS TODAY</div>
        
        <div style="display:flex; justify-content:center; gap:20px; margin-top:60px;">
            <button onclick="modWater(-250)" style="width:80px; height:80px; border-radius:24px; background:#1a1a1a; border:1px solid #333; color:#fff; font-size:2rem;">-</button>
            <button onclick="modWater(250)" style="width:80px; height:80px; border-radius:24px; background:var(--accent); border:none; color:#fff; font-size:2rem; box-shadow:0 0 20px rgba(59,130,246,0.5);">+</button>
        </div>
    </div>
</div>

<div id="p-shop" class="page">
    <div style="background:#111; padding:20px; border-radius:24px; border:1px solid #222;" id="shopList"></div>
</div>

<div id="p-hist" class="page">
    <div style="background:#111; padding:20px; border-radius:24px; border:1px solid #222;" id="histRows"></div>
</div>

<div id="p-calc" class="page">
    <div style="background:#111; padding:30px; border-radius:30px; border:1px solid #222;">
        <input id="cName" type="text" placeholder="Item Name">
        <input id="cCal" type="number" placeholder="Calories">
        <button class="floating-btn" style="background:var(--primary); color:#000;" onclick="addCust()">ADD TO LOG</button>
    </div>
</div>

<div id="p-set" class="page">
    <div style="background:#111; padding:30px; border-radius:30px; border:1px solid #222;">
        <label style="font-size:0.7rem; font-weight:800; color:#666; margin-bottom:10px; display:block;">NAME</label>
        <input id="sName" type="text">
        <label style="font-size:0.7rem; font-weight:800; color:#666; margin-bottom:10px; display:block;">TARGET</label>
        <input id="sTarg" type="number">
        <button class="floating-btn" style="background:var(--primary); color:#000;" onclick="saveSet()">SAVE SETTINGS</button>
        <button class="floating-btn" style="background:#220000; color:#ff4444; margin-top:10px;" onclick="reset()">RESET APP</button>
    </div>
</div>

<script>
/* ================== SCIENTIFIC DATA ================== */
const plans = {
    1: { name: "MONDAY", food: [
        {l:"5:00 AM", n:"üçå Banana + ‚òï Coffee", i:"Pre-Workout", c:100},
        {l:"8:30 AM", n:"Post-Workout Stack", i:"üßÉ 1.5 Scoop Whey + Creatine +üçé Apple", c:280}, 
        {l:"9:30 AM", n:"Sprouted Breakfast", i:"ü´ò Moong Sprouts + Oats + Tarbooj Seeds", c:450}, 
        {l:"1:30 PM", n:"Soya Power", i:"50g Soya, ü•¨ Spinach, 150g üçö Rice", c:650}, 
        {l:"5:00 PM", n:"Hair Snack", i:"Pumpkin Seeds + üçµ Green Tea", c:120}, 
        {l:"8:30 PM", n:"Light Dinner", i:"150g üßà Paneer, ü•ó Salad, 1 ü´ì Roti", c:550}
    ]},
    2: { name: "TUESDAY", food: [
        {l:"5:00 AM", n:"üçê Fruit +‚òï Coffee", i:"Carbs for lifting", c:80},
        {l:"8:30 AM", n:"Post-Workout Stack", i:"üßÉ 1.5 Scoop Whey + Creatine +üçä Orange", c:280}, 
        {l:"9:30 AM", n:"üåÆ Paneer Toast", i:"100g ü•ò Paneer Bhurji + 1 Toast", c:350}, 
        {l:"1:30 PM", n:"ü´ò Gavran Chana", i:"Boiled Chana ü•ô Salad + 150g üçô Rice", c:600}, 
        {l:"5:00 PM", n:"Chia Pudding", i:"Chia Seeds + ü•§ Water + üçã Lemon", c:100}, 
        {l:"8:30 PM", n:"MUTTON FEAST", i:"250g üêê Goat Meat (Slow Cooked), 2 Roti", c:800}
    ]},
    3: { name: "WEDNESDAY", food: [
        {l:"5:00 AM", n:"üçå Banana + ‚òï Coffee", i:"Pre-Workout", c:100},
        {l:"8:30 AM", n:"Post-Workout", i:"üßÉ 1.5 Scoop Whey + Creatine + ü•ï Fruit", c:280}, 
        {l:"9:30 AM", n:"Oats & Seeds", i:"Oats, Tarbooj Seeds,ü•õ  Milk", c:400}, 
        {l:"1:30 PM", n:"Chicken Lunch", i:"200g üçó Chicken Breast, 150g Rice", c:650}, 
        {l:"5:00 PM", n:"Protein Snack", i:"Soya Chunks (30g) ü•ó Salad", c:150}, 
        {l:"8:30 PM", n:"Chicken Soup", i:"Bone Broth, Veggies, 1 Roti", c:350}
    ]},
    4: { name: "THURSDAY", food: [
        {l:"5:00 AM", n:"üçíPapaya", i:"Gut Health", c:60},
        {l:"8:30 AM", n:"Post-Workout", i:"üßÉ 1.5 Scoop Whey + Creatine", c:220}, 
        {l:"9:30 AM", n:"Soya Toast", i:"50g Soya Chunks +üçû Bread", c:380}, 
        {l:"1:30 PM", n:"ü´ò Rajma Rice", i:"Large Bowl Rajma, 150g Rice", c:600}, 
        {l:"5:00 PM", n:"Hair Fats", i:"Pumpkin Seeds + ü•ï Carrot", c:100}, 
        {l:"8:30 PM", n:"Grilled Paneer", i:"100g Paneer, ü•ôBig Salad", c:380}
    ]},
    5: { name: "FRIDAY", food: [
        {l:"5:00 AM", n:"‚òïCoffee + üçåBanana", i:"Wake Up", c:60},
        {l:"8:30 AM", n:"Post-Workout", i:"üßÉ1.5 Scoop Whey + Creatine", c:220}, 
        {l:"9:30 AM", n:"Besan Chilla", i:"2 Chilla with Paneer Filling", c:400}, 
        {l:"1:30 PM", n:"Moong Dal Rice", i:"2 Bowls Dal, 150g Rice", c:620}, 
        {l:"5:00 PM", n:"Sprouts", i:"Moong Sprouts + Lemon", c:180}, 
        {l:"8:30 PM", n:"Paneer Tikka", i:"150g Paneer, Capsicum", c:450}
    ]},
    6: { name: "SATURDAY", food: [
        {l:"5:00 AM", n:"Apple", i:"Energy", c:80},
        {l:"8:30 AM", n:"Post-Workout", i:"1.5 Scoop Whey + Creatine", c:220}, 
        {l:"9:30 AM", n:"Smoothie", i:"Curd, Banana, Chia Seeds", c:350}, 
        {l:"1:30 PM", n:"Gavran Chana", i:"Curry + 2 Roti", c:600}, 
        {l:"5:00 PM", n:"Green Tea", i:"+ Tarbooj Seeds", c:120}, 
        {l:"8:30 PM", n:"Tomato Soup", i:"Soup + 50g Tofu/Paneer", c:250}
    ]},
    0: { name: "SUNDAY", food: [
        {l:"9:00 AM", n:"Paneer Bhurji", i:"Relaxed Breakfast", c:450},
        {l:"1:00 PM", n:"Home Thali", i:"Veg Meal (Moderate Oil)", c:800}, 
        {l:"5:00 PM", n:"Hydrate", i:"Coconut Water", c:60}, 
        {l:"8:30 PM", n:"Raw Meal", i:"Large Salad + Cheese", c:350},
        {l:"10:00 PM", n:"Sleep", i:"Turmeric Milk", c:150}
    ]}
};

/* ================== APP LOGIC ================== */
let app = { user: "Elite Gym", target: 2450, baseStreak: 0, streakBonus: 0, lastLogDate: "", savedCal: 0, checks: {}, water: 0, custom: [], hist: [] };
const dayIdx = new Date().getDay();

function init() {
    if(localStorage.getItem('fithub_ultimate')) app = JSON.parse(localStorage.getItem('fithub_ultimate'));
    if(app.target < 2450) app.target = 2450; 

    const today = new Date().toDateString();
    if(app.lastLogDate && app.lastLogDate !== today) {
        if(app.savedCal > 0) {
            let met = app.savedCal >= (app.target - 400);
            let dObj = new Date(app.lastLogDate);
            let dateStr = dObj.getDate() + " " + dObj.toLocaleString('default', { month: 'short' });
            app.hist.unshift({d: dateStr, c: app.savedCal, m: met});
            if(app.hist.length > 7) app.hist.pop();
            
            let yest = new Date(); yest.setDate(yest.getDate()-1);
            if(app.lastLogDate === yest.toDateString() && met) app.baseStreak++;
            else if(!met) app.baseStreak = 0;
        }
        app.checks = {}; app.water = 0; app.custom = []; app.streakBonus = 0; app.savedCal = 0;
    }
    app.lastLogDate = today;
    save(); render();
    shopRender();
}

function render() {
    const dayPlan = plans[dayIdx].food;
    let checked = 0; let cal = 0;
    
    // Meal Cards
    const mList = document.getElementById('mealList'); mList.innerHTML = "";
    dayPlan.forEach((f, i) => {
        if(app.checks[i]) { checked++; cal += f.c; }
        let isChk = app.checks[i] ? 'checked' : '';
        mList.innerHTML += `
        <div class="meal-card ${isChk}" onclick="togMeal(${i})">
            <div class="mc-left">
                <div class="mc-time">${f.l}</div>
                <div class="mc-title">${f.n}</div>
                <div class="mc-desc">${f.i}</div>
            </div>
            <div class="mc-right">
                <div class="mc-cal">${f.c}</div>
                <div class="check-box">‚úì</div>
            </div>
        </div>`;
    });

    // Custom
    const cList = document.getElementById('custList'); cList.innerHTML = "";
    app.custom.forEach((c, i) => {
        cal += c.c;
        cList.innerHTML += `
        <div class="meal-card checked" style="border-color:#333">
            <div class="mc-left"><div class="mc-time">CUSTOM</div><div class="mc-title">${c.n}</div></div>
            <div class="mc-right"><div class="mc-cal">${c.c}</div><div onclick="delCust(${i})" style="color:#f44; font-weight:bold; padding:5px;">‚úï</div></div>
        </div>`;
    });

    // Stats
    const totalItems = dayPlan.length;
    app.streakBonus = (checked === totalItems && totalItems > 0) ? 1 : 0;
    app.savedCal = cal;
    
    document.getElementById('dispCal').innerText = cal;
    document.getElementById('dispTarget').innerText = app.target;
    document.getElementById('dispStreak').innerText = app.baseStreak + app.streakBonus;
    document.getElementById('dayEmoji').innerText = plans[dayIdx].name.includes("MUTTON") ? "üêê" : "ü•ó";
    
    // Ring Progress: 251 is full dasharray.
    // To fill clockwise from 12pm: Start offset is 251 (Empty). 
    // Fill towards 0 (Full).
    let pct = Math.min(1, cal/app.target);
    document.getElementById('progCirc').style.strokeDashoffset = 251 - (251 * pct);
    
    document.getElementById('waterLg').innerText = (app.water/1000).toFixed(1);
    document.getElementById('dispWater').innerText = (app.water/1000).toFixed(1) + "L";
    document.getElementById('barWater').style.width = Math.min(100, (app.water/6000)*100) + "%";
    
    // Hist
    document.getElementById('histRows').innerHTML = app.hist.length ? app.hist.map(h=>`<div style="display:flex; justify-content:space-between; padding:15px; border-bottom:1px solid #222; color:#888;"><span>${h.d}</span><span style="color:${h.m?'#ccff00':'#666'}">${h.c} kcal</span></div>`).join('') : '<div style="text-align:center; color:#444; padding:20px;">No Data</div>';
    
    document.getElementById('sName').value = app.user;
    document.getElementById('sTarg').value = app.target;
    save();
}

/* ACTIONS */
function togMeal(i) {
    if(app.checks[i]) delete app.checks[i];
    else { app.checks[i] = true; confetti(); }
    render();
}
function modWater(n) {
    if(n===-9999) app.water = 0;
    else app.water += n;
    if(app.water < 0) app.water = 0;
    render();
}
function addCust() {
    let n = document.getElementById('cName').value;
    let c = parseInt(document.getElementById('cCal').value);
    if(n && c) { app.custom.push({n,c}); document.getElementById('cName').value=""; document.getElementById('cCal').value=""; render(); }
}
function delCust(i) { app.custom.splice(i,1); render(); }
function saveSet() {
    app.user = document.getElementById('sName').value;
    app.target = parseInt(document.getElementById('sTarg').value);
    render(); nav('p-home');
}
function nav(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    let title = "DASHBOARD";
    if(id==='p-meal') title = "FUEL LOG";
    if(id==='p-water') title = "HYDRATION";
    if(id==='p-shop') title = "SHOPPING";
    if(id==='p-set') title = "SETTINGS";
    document.getElementById('pageTitle').innerText = title;
    window.scrollTo(0,0);
}
function reset() { if(confirm("DELETE DATA?")) { localStorage.removeItem('fithub_ultimate'); location.reload(); } }
function save() { localStorage.setItem('fithub_ultimate', JSON.stringify(app)); }

/* SHOPPING RENDER */
function shopRender() {
    const list = [
        {t:"GOAT MEAT", d:"250g (Tue Only)"}, {t:"CHICKEN BREAST", d:"250g (Wed Only)"},
        {t:"WHEY PROTEIN", d:"1 Tub"}, {t:"PANEER", d:"1kg/Week"},
        {t:"PUMPKIN SEEDS", d:"Zinc (Hair)"}, {t:"TARBOOJ SEEDS", d:"Magnesium"},
        {t:"SPINACH (PALAK)", d:"3 Bunches"}, {t:"PAPAYA/ORANGES", d:"Vit C"}
    ];
    document.getElementById('shopList').innerHTML = list.map(i => 
        `<div style="display:flex; justify-content:space-between; padding:15px 0; border-bottom:1px solid #222; color:#bbb;" onclick="this.style.opacity=0.3; this.style.textDecoration='line-through'">
            <span>${i.t}</span><span style="background:#222; padding:2px 8px; border-radius:6px; font-size:0.8rem; font-weight:700; color:#fff;">${i.d}</span>
        </div>`
    ).join('');
}

/* HIGH-END CONFETTI ENGINE (PHYSICS BASED) */
function confetti() {
    const c = document.getElementById('confetti');
    const ctx = c.getContext('2d');
    c.width = window.innerWidth; c.height = window.innerHeight;
    let particles = [];
    const colors = ['#ccff00', '#ffffff', '#ffd700', '#3b82f6']; // Lime, White, Gold, Blue
    
    for(let i=0; i<100; i++) {
        particles.push({
            x: c.width/2, 
            y: c.height/2,
            r: Math.random() * 6 + 2, // Radius
            dx: (Math.random() - 0.5) * 40, // Horizontal Velocity
            dy: (Math.random() - 0.5) * 40, // Vertical Velocity
            tilt: Math.floor(Math.random() * 10) - 10,
            tiltAngle: 0,
            tiltAngleIncr: (Math.random() * 0.07) + 0.05,
            color: colors[Math.floor(Math.random()*colors.length)],
            life: 120
        });
    }
    
    function draw() {
        ctx.clearRect(0,0,c.width,c.height);
        let active = false;
        particles.forEach(p => {
            if(p.life > 0) {
                active = true;
                p.life--;
                p.tiltAngle += p.tiltAngleIncr;
                p.y += (Math.cos(p.tiltAngle) + 1 + p.r / 2) * 0.5; // Gravity with air resistance
                p.x += Math.sin(p.tiltAngle) * 2; // Sway
                p.x += p.dx * 0.1; // Initial Explosion Drag
                p.y += p.dy * 0.1;
                
                ctx.beginPath();
                ctx.lineWidth = p.r / 2;
                ctx.strokeStyle = p.color;
                ctx.moveTo(p.x + p.tilt + p.r / 3, p.y);
                ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 5);
                ctx.stroke();
            }
        });
        if(active) requestAnimationFrame(draw);
    }
    draw();
}

init();
</script>
</body>
</html>